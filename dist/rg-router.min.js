"use strict";(function(){var t={};var e=[];var r=function i(t){return e.find(function(e){if(e.name==t)return e})};var n={config:function o(e){return t=e},add:function u(t){var i=r(t);if(i)i=t;else e.push(t);n.trigger("add")},remove:function a(t){var r=undefined;e=e.filter(function(e){if(e.name!=t)return e;else r=e});n.trigger("remove",r)},go:function f(t,e){if(!n.active)return;var i=r(t);if(!i){console.error("State '"+t+"' has not been configured");return}if(typeof history.pushState!="undefined"&&!e){history.pushState(i,null,"#/"+(i.url||""))}n.current=i;n.trigger("go",i)},start:function s(){window.addEventListener("popstate",function(t){return n.go(t.state.name,true)});n.active=true;n.trigger("start")},stop:function c(){window.removeEventListener("popstate",function(t){return n.go(t.state.name,true)});n.active=false;n.trigger("stop")},current:undefined,active:true};riot.observable(n);riot.mixin("rg.router",{router:n});n.start()})();